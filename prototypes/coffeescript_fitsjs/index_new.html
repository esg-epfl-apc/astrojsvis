<!DOCTYPE html>
<html>
<head>
    <script src="lib/FITSFile.js"></script>
    <script src="lib/Base.js"></script>
    <script src="lib/DataUnit.js"></script>
    <script src="lib/Tabular.js"></script>
    <script src="lib/BinaryTable.js"></script>
    <script src="lib/CompressedImage.js"></script>
    <script src="lib/Decompress.js"></script>
    <script src="lib/FITS.js"></script>
    <script src="lib/HDU.js"></script>
    <script src="lib/Header.js"></script>
    <script src="lib/HeaderVerify.js"></script>
    <script src="lib/Image.js"></script>
    <script src="lib/ImageUtils.js"></script>
    <script src="lib/Parser.js"></script>
    <script src="lib/Table.js"></script>
</head>

<body>

<script>

        const fp = "spi_acs_FULL_SKY_lc.fits";
        //const fp = "fits_test.fits";
        //const fp = "HorseHead.fits";
        //const fp = "isgri_query_mosaic.fits";


        const callback = function(fits_object, parser) {

            let fits_file = new FITSFile(parser);

            console.log(fits_file.getHDU());

            if(fits_object) {

                console.log(fits_object);

                let hdu = fits_object.getHDU();
                let header = hdu.header;
                let data = hdu.data;

                //console.log(data.getColumns(header));
                //console.log(header);
                console.log(data.getColumn("RATE", col));
                console.log(data.getColumn("TIME", col));

                console.log(header);
                console.log(data)
            } else {
                console.log("Unable to read file")
            }
        }

        function col(col) {
            console.log(col)
        }

        let fits = new FITS(fp, callback);

</script>

</body>

</html>